{"version":3,"sources":["webpack:///./src/views/joy/DrawingPage.vue?50f9","webpack:///./src/views/joy/DrawingPage.vue?1afe","webpack:///./src/assets/js/joy/Drawing.js","webpack:///src/views/joy/DrawingPage.vue","webpack:///./src/views/joy/DrawingPage.vue?6181","webpack:///./src/views/joy/DrawingPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","color","model","value","callback","$$v","expression","_s","staticRenderFns","colorCode","colorChanged","init","canvas","document","querySelector","cntx","getContext","painting","paintStyle","getComputedStyle","resotre_array","index","width","parseInt","getPropertyValue","height","mouse","x","y","addEventListener","e","clientX","offsetLeft","clientY","offsetTop","lineWidth","lineJoin","lineCap","thickness","dropdownBtn","changethickness","thicknessVal","console","log","applyBtn","event","changecolor","strokeStyle","beginPath","moveTo","onPaint","push","getImageData","removeEventListener","clearBtn","undoBtn","clearcanvas","clearRect","undo","pop","putImageData","lineTo","stroke","colorValue","name","data","components","mounted","methods","component"],"mappings":"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","file":"js/chunk-5384c96e.6d732589.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingPage.vue?vue&type=style&index=0&id=c69c5a30&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"drawing-wrapper\"}},[_c('div',{attrs:{\"id\":\"content\"}},[_c('form',[_c('div',{staticClass:\"undo\"},[_vm._v(\"Undo\")]),_c('ejs-colorpicker',{attrs:{\"id\":\"color\"},on:{\"change\":_vm.color},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',[_vm._v(\" color code : \"),_c('span',{staticClass:\"color-code\"},[_vm._v(_vm._s(_vm.value))])]),_c('div',{staticClass:\"clear\",attrs:{\"colorformat\":\"rgba\"}},[_vm._v(\"Clear\")]),_vm._v(\" Thiskness : \"),_c('input',{attrs:{\"type\":\"number\",\"id\":\"thickness\",\"min\":\"1\",\"max\":\"25\",\"value\":\"5\"}})],1),_c('canvas',{attrs:{\"id\":\"drawing-canvas\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let colorCode = '#ffffff';\nlet colorChanged = false;\nexport const init = () => {\n  const canvas = document.querySelector('#drawing-canvas');\n  const cntx = canvas.getContext('2d');\n  const painting = document.querySelector('#content');\n  const paintStyle = getComputedStyle(painting);\n  let resotre_array = [];\n  let index = -1;\n\n  canvas.width = parseInt(paintStyle.getPropertyValue('width'));\n  canvas.height = parseInt(paintStyle.getPropertyValue('height'));\n\n  let mouse = { x: 0, y: 0 };\n\n  canvas.addEventListener('mousemove', function(e) {\n    mouse.x = e.clientX - this.offsetLeft;\n    mouse.y = e.clientY - this.offsetTop;\n  });\n\n  cntx.lineWidth = 5;\n  cntx.lineJoin = 'round';\n  cntx.lineCap = 'round';\n\n  const thickness = document.querySelector('#thickness');\n  const color = document.querySelector('#color');\n  // const colorCode = document.querySelector('.color-code');\n  const dropdownBtn = document.querySelector('.e-dropdown-btn');\n  dropdownBtn.addEventListener('click', function() {\n    console.log('color pick');\n    const applyBtn = document.querySelector('.e-apply');\n    applyBtn.addEventListener('click', function() {\n      // console.log('color', colorCode.textContent);\n      // const colorCode = color.dataset.value;\n      // console.log(colorCode);\n    });\n  });\n  thickness.addEventListener('change', changethickness);\n  color.addEventListener('change', function(event) {\n    changecolor(event);\n  });\n\n  function changethickness() {\n    let thicknessVal = document.querySelector('#thickness').value;\n    cntx.lineWidth = thicknessVal;\n  }\n  const changecolor = () => {\n    // let colorVal = document.querySelector('#color').value;\n    console.log(colorCode);\n    cntx.strokeStyle = colorCode;\n  };\n  if (colorChanged) {\n    console.log('changed');\n    changecolor();\n  }\n  canvas.addEventListener(\n    'mousedown',\n    function() {\n      cntx.beginPath();\n      cntx.moveTo(mouse.x, mouse.y);\n      canvas.addEventListener('mousemove', onPaint, false);\n    },\n    false,\n  );\n\n  canvas.addEventListener(\n    'mouseup',\n    function() {\n      resotre_array.push(cntx.getImageData(0, 0, canvas.width, canvas.height));\n      index += 1;\n      console.log('restore array', resotre_array);\n      canvas.removeEventListener('mousemove', onPaint, false);\n    },\n    false,\n  );\n\n  const clearBtn = document.querySelector('.clear');\n  const undoBtn = document.querySelector('.undo');\n  clearBtn.addEventListener('click', clearcanvas);\n  undoBtn.addEventListener('click', undo);\n  function clearcanvas() {\n    // cntx.fillStyle = '#fff';\n    cntx.clearRect(0, 0, canvas.width, canvas.height);\n    // cntx.fillRect(0, 0, canvas.width, canvas.height);\n\n    resotre_array = [];\n    index = -1;\n  }\n\n  function undo() {\n    if (index <= 0) {\n      clearcanvas();\n    } else {\n      index -= 1;\n      resotre_array.pop();\n      cntx.putImageData(resotre_array[index], 0, 0);\n    }\n  }\n\n  const onPaint = function() {\n    cntx.lineTo(mouse.x, mouse.y);\n    cntx.stroke();\n  };\n};\n\nexport const colorValue = value => {\n  colorCode = value;\n  colorChanged = true;\n  init();\n};\n","<template>\n  <div id=\"drawing-wrapper\">\n    <div id=\"content\">\n      <form>\n        <div class=\"undo\">Undo</div>\n        <ejs-colorpicker id=\"color\" v-model=\"value\" @change=\"color\"></ejs-colorpicker>\n        <div>\n          color code : <span class=\"color-code\">{{ value }}</span>\n        </div>\n        <div class=\"clear\" colorformat=\"rgba\">Clear</div>\n        Thiskness : <input type=\"number\" id=\"thickness\" min=\"1\" max=\"25\" value=\"5\" />\n        <!-- color : <input type=\"color\" id=\"color\" /> -->\n      </form>\n      <canvas id=\"drawing-canvas\"></canvas>\n      <!-- <div class=\"bg-image\"><img src=\"@/assets/image/healing.jpg\" alt=\"\" /></div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport { init, colorValue } from '@/assets/js/joy/Drawing.js';\n\nexport default {\n  name: 'Drawingpage',\n  data() {\n    return {\n      value: null,\n    };\n  },\n  components: {},\n  mounted() {\n    init();\n  },\n  methods: {\n    color() {\n      colorValue(this.value);\n    },\n  },\n};\n</script>\n\n<style scoped>\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\n#drawing-wrapper {\n  /* width: 100vw; */\n  /* height: 100vh; */\n  background-image: url('../../assets/image/amongus.jpg');\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n\n#content {\n  width: 1020px;\n  height: 580px;\n  margin: 0 auto;\n  border: 1px solid black;\n  margin-top: 40px;\n  cursor: pointer;\n}\n\nform {\n  position: absolute;\n  width: 280px;\n  background-color: antiquewhite;\n  padding: 10px;\n}\n\n.bg-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrawingPage.vue?vue&type=template&id=c69c5a30&scoped=true&\"\nimport script from \"./DrawingPage.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawingPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DrawingPage.vue?vue&type=style&index=0&id=c69c5a30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c69c5a30\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}